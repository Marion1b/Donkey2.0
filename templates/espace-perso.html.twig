{% extends "layout.html.twig" %}

{% block header %}
{{ parent() }}
{% endblock %}

{% block main %}
<main class="espace-perso">



<section class="espace-perso-tickets">
    <h1>Bonjour {{ session.user.getFirstName()|escape }}</h1>

    <div class="espace-perso-tickets-form2 form"><img src="./assets/img/forms/form2.png" alt=""></div>
    <div class="espace-perso-tickets-form1 form"><img src="./assets/img/forms/form1.png" alt=""></div>

    <a href="index.php?route=billets&&user-id={{session.user.getId()}}"><button class="ticket-button">Mes billets</button></a>
</section>


<section class="espace-perso-artists">
    <h1>Mes artistes</h1>

    <div class="espace-perso-artists-form2 form"><img src="./assets/img/forms/form2-yellow.png" alt=""></div>
    <div class="espace-perso-artists-form3a form"><img src="./assets/img/forms/form3-yellow.png" alt=""></div>
    <div class="espace-perso-artists-form1 form"><img src="./assets/img/forms/form1-yellow.png" alt=""></div>
    <div class="espace-perso-artists-form3b form"><img src="./assets/img/forms/form3-yellow.png" alt=""></div>

    <a href="index.php?route=programmation-perso&&jour=vendredi">
        <button class="planning-button">Ma programmation</button>
    </a>

    {% if favoriteArtists|length >0 %}
        {% for artist in favoriteArtists %}
        <article class="artist-card">
            <a href="index.php?route=fiche-artiste&&artiste={{artist.getName()}}">
                <div class="artist-card-image {% if artist.getName() == "JeanneTo" or artist.getName() == "Badflowers" or artist.getName() == "Ziak"%} artist-card-image-top {% endif %}"><img src="{{artist.getPicture()}}" alt="photo de {{artist.getPicture()}}"></div>
                <p class="artist-card-name">{{artist.getName()}}</p>
                <p class="artist-card-day">{{artist.getDayToString()}}</p>
            </a>
            <form action="index.php?route=liste-artiste-fav" method="POST">
                <input type="hidden" name="artist" id="artist" value="{{artist.getId()}}">
                <button type="submit">Retirer de la liste</button>
            </form>
        </article>
        {% endfor %}
    {%else%}
        <p>Pas encore d'artiste ajouté-e-s à la liste.</p>
    {%endif%}
</section>


</main>
{% endblock %}

{% block footer %}
{{ parent() }}
{% endblock %}